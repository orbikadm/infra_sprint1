# Kittygram


## Описание проекта
Kittygram — социальная сеть для обмена фотографиями любимых питомцев. Это полностью рабочий проект, который состоит из бэкенд-приложения на Django и фронтенд-приложения на React.

Проект позволяет регистрироваться, добавлять любимых питомцев, указывать их основной цвет, выбирать и добавлять достижения своих питомцев.

## Возможности
В проекте реализовано:
- Фронтенд на React, бэкенд на Django 3.2.3
- Система регистрации и аутентификации пользователей
- Добавление котиков  выбором достижений и расцветки
- Доступна админ-панель для работы с ресурсами через сайт

## Инструкция по запуску

**Необходимая версия Python 3.9.13**
1. Клонируйте проект
```
git@github.com:shkiperzero/api_yamdb.git
```
2. Создайте виртуальное окружение: 
``` 
python -m venv venv
```
для Linux
```
python3 -m venv venv
```
Если пользуетесь Windows и первый вариант не сработал попробуйте 
```
py -m venv venv
```
3. Активируйте виртуальное окружение 
Если у Вас Windows
```
. venv/Scripts/activate
```
Если у Вас Linux
```
. venv/bin/activate
```
4. Установите все необходимые библиотеки командой 
```
pip install -r requirements.txt
```


### Настройка фронтенд ###


1. Находясь в директории с фронтенд-приложением, установите зависимости для него
```
npm i
```
2. Из директории с фронтенд-приложением выполните команду:
```
npm run build
```
3. Скопируйте статику фронтенд-приложения в директорию по умолчанию
```
sudo cp -r путь_к_директории_с_фронтенд-приложением/build/. /var/www/kittygram/
```

### Настройка бэкенд

**! ! ! До разворачивания проекта необходимо в директории backend создать файл .env и указать в нём переменные окружения.
Черновик можно посмотреть в файле .env_example**

1. Скопируйте и при необходимости отредактируйте файл конфигурации юнита systemd для Gunicorn.
Файл конфигурации находится по пути backend/infra/gunicorn_kittygram.service

2. Запустите gunicorn командой 
```
sudo systemctl start gunicorn_kittygram.service
```
3. Добавьте сервис для запуска при старте системы
```
sudo systemctl enable gunicorn_kittygram.service
```
4. Установите Nginx
```
sudo apt install nginx -y
```
5. Запустите Nginx 
```
sudo systemctl start nginx
```
6. Скопируйте и при необходимости отредактируйте конфигурацию Nginx.
Файл конфигурации находится по пути backend/infra/default

7. Проверьте корректность настроек
```
nginx -t
```
И перезагрузите nginx
```
sudo systemctl reload nginx
```

8. Установите certbot и получите ssl сертификат
```
# Установка пакетного менеджера snap.
sudo apt install snapd
# Установка и обновление зависимостей для пакетного менеджера snap.
sudo snap install core; sudo snap refresh core
# Установка пакета certbot.
sudo snap install --classic certbot
# Обеспечение доступа к пакету для пользователя с правами администратора.
sudo ln -s /snap/bin/certbot /usr/bin/certbot
# Получение сертификата
sudo certbot --nginx
```
Перезагрузите nginx
```
sudo systemctl reload nginx
```

9. Установите все необходимые библиотеки командой 
```
pip install -r requirements.txt
```


## Использованные технологии
Проект реализован на языке Python версии 3.9.13
Фреймворк разработки - Django версии 3.2.16
Api реализовано на Django Rest Framework версии 3.12.4

## Об авторе
Автор - студент Яндекс.Практикум 25 когорты Константин Упоров. Python backend-разработчик.
email для связи - <orbikadm@gmail.com>
